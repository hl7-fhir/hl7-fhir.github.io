{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://hl7.org/fhir/json-schema/CommunicationRequest",
  "$ref": "#/definitions/CommunicationRequest",
  "description": "see http://hl7.org/fhir/json.html#schema for information about the FHIR Json Schemas",
  "definitions": {
    "CommunicationRequest": {
      "allOf": [
        {
          "$ref": "DomainResource.schema.json#/definitions/DomainResource"
        },
        {
          "description": "A request to convey information; e.g. the CDS system proposes that an alert be sent to a responsible provider, the CDS system proposes that the public health agency be notified about a reportable condition.",
          "properties": {
            "resourceType": {
              "description": "This is a CommunicationRequest resource",
              "type": "string",
              "enum": [
                "CommunicationRequest"
              ]
            },
            "identifier": {
              "description": "A unique ID of this request for reference purposes. It must be provided if user wants it returned as part of any output, otherwise it will be autogenerated, if needed, by CDS system. Does not need to be the actual ID of the source system.",
              "type": "array",
              "items": {
                "$ref": "Identifier.schema.json#/definitions/Identifier"
              }
            },
            "category": {
              "description": "The type of message to be sent such as alert, notification, reminder, instruction, etc.",
              "$ref": "CodeableConcept.schema.json#/definitions/CodeableConcept"
            },
            "sender": {
              "description": "The entity (e.g. person, organization, clinical information system, or device) which is to be the source of the communication.",
              "$ref": "Reference.schema.json#/definitions/Reference"
            },
            "recipient": {
              "description": "The entity (e.g. person, organization, clinical information system, device, group, or care team) which is the intended target of the communication.",
              "type": "array",
              "items": {
                "$ref": "Reference.schema.json#/definitions/Reference"
              }
            },
            "payload": {
              "description": "Text, attachment(s), or resource(s) to be communicated to the recipient.",
              "type": "array",
              "items": {
                "$ref": "#/definitions/CommunicationRequest_Payload"
              }
            },
            "medium": {
              "description": "A channel that was used for this communication (e.g. email, fax).",
              "type": "array",
              "items": {
                "$ref": "CodeableConcept.schema.json#/definitions/CodeableConcept"
              }
            },
            "requester": {
              "description": "The responsible person who authorizes this order, e.g. physician. This may be different than the author of the order statement, e.g. clerk, who may have entered the statement into the order entry application.",
              "$ref": "Reference.schema.json#/definitions/Reference"
            },
            "status": {
              "description": "The status of the proposal or order.",
              "enum": [
                "proposed",
                "planned",
                "requested",
                "received",
                "accepted",
                "in-progress",
                "completed",
                "suspended",
                "rejected",
                "failed"
              ],
              "type": "string"
            },
            "_status": {
              "description": "Extensions for status",
              "$ref": "Element.schema.json#/definitions/Element"
            },
            "encounter": {
              "description": "The encounter within which the communication request was created.",
              "$ref": "Reference.schema.json#/definitions/Reference"
            },
            "scheduledDateTime": {
              "description": "The time when this communication is to occur.",
              "pattern": "-?[0-9]{4}(-(0[1-9]|1[0-2])(-(0[0-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?",
              "type": "string"
            },
            "_scheduledDateTime": {
              "description": "Extensions for scheduledDateTime",
              "$ref": "Element.schema.json#/definitions/Element"
            },
            "scheduledPeriod": {
              "description": "The time when this communication is to occur.",
              "$ref": "Period.schema.json#/definitions/Period"
            },
            "reason": {
              "description": "The reason or justification for the communication request.",
              "type": "array",
              "items": {
                "$ref": "CodeableConcept.schema.json#/definitions/CodeableConcept"
              }
            },
            "requestedOn": {
              "description": "The time when the request was made.",
              "type": "string",
              "pattern": "-?[0-9]{4}(-(0[1-9]|1[0-2])(-(0[0-9]|[1-2][0-9]|3[0-1])(T([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\\.[0-9]+)?(Z|(\\+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00)))?)?)?"
            },
            "_requestedOn": {
              "description": "Extensions for requestedOn",
              "$ref": "Element.schema.json#/definitions/Element"
            },
            "subject": {
              "description": "The patient who is the focus of this communication request.",
              "$ref": "Reference.schema.json#/definitions/Reference"
            },
            "priority": {
              "description": "Characterizes how quickly the proposed act must be initiated. Includes concepts such as stat, urgent, routine.",
              "$ref": "CodeableConcept.schema.json#/definitions/CodeableConcept"
            }
          },
          "required": [
            "resourceType"
          ]
        }
      ]
    },
    "CommunicationRequest_Payload": {
      "allOf": [
        {
          "$ref": "BackboneElement.schema.json#/definitions/BackboneElement"
        },
        {
          "description": "A request to convey information; e.g. the CDS system proposes that an alert be sent to a responsible provider, the CDS system proposes that the public health agency be notified about a reportable condition.",
          "properties": {
            "contentString": {
              "description": "The communicated content (or for multi-part communications, one portion of the communication).",
              "type": "string"
            },
            "_contentString": {
              "description": "Extensions for contentString",
              "$ref": "Element.schema.json#/definitions/Element"
            },
            "contentAttachment": {
              "description": "The communicated content (or for multi-part communications, one portion of the communication).",
              "$ref": "Attachment.schema.json#/definitions/Attachment"
            },
            "contentReference": {
              "description": "The communicated content (or for multi-part communications, one portion of the communication).",
              "$ref": "Reference.schema.json#/definitions/Reference"
            }
          }
        }
      ]
    }
  }
}