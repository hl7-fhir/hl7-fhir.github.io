{"abstract":false,"baseDefinition":"http://hl7.org/fhir/StructureDefinition/Extension","contact":[{"telecom":[{"system":"other","value":"HL7"}]}],"context":["AllergyIntolerance"],"contextType":"resource","date":"2015-02-21","derivation":"constraint","description":"A complex extension allowing structured capture of the exposure risk of the patient for an adverse reaction (allergy or intolerance) to the specified substance/product.","differential":{"element":[{"comments":"This extension is available and is intended to be used as a more completely structured and flexible alternative to the 'code' element for representing positive and negative allergy and intolerance statements.  If this extension element is present, the AllergyIntolerance.code element SHALL be omitted (see invariant \"code or substanceExposureRisk\").","constraint":[{"expression":"substanceExposureRisk.exists() and code.empty()","human":"If the substanceExposureRisk extension element is present, the AllergyIntolerance.code element must be omitted.","key":"inv-1","severity":"error","xpath":"exists(f:substanceExposureRisk) and not(exists(f:code))"}],"definition":"A complex extension allowing structured capture of the exposure risk of the patient for an adverse reaction (allergy or intolerance) to the specified substance/product.","id":"Extension:exposureriskofadversereactionallergyorintolerancetothespecifiedsubstance/product","max":"1","min":0,"path":"Extension","short":"Exposure risk of adverse reaction (allergy or intolerance) to the specified substance/product"},{"comments":"It is strongly recommended that this element be populated using a terminology, where possible. For example, some terminologies used include RxNorm, SNOMED CT, DM+D, NDFRT, UNII, and ATC. Plain text should only be used if there is no appropriate terminology available. Additional details can be specified in the text.","definition":"Code for a substance or pharmaceutical product that is considered to be responsible for the adverse reaction risk or is known not to have an associated risk of an adverse reaction upon exposure.","id":"Extension:exposureriskofadversereactionallergyorintolerancetothespecifiedsubstance/product.extension:substance","mapping":[{"identity":"v2","map":"AL1-3 / IAM-3"},{"identity":"rim","map":".participation[typeCode=CAGNT].role[classCode=ADMM].player[classCode=MAT, determinerCode=KIND, code <= ExposureAgentEntityType]"}],"max":"1","min":1,"path":"Extension.extension","short":"Substance (or pharmaceutical product)","sliceName":"substance","type":[{"code":"Extension"}]},{"id":"Extension:exposureriskofadversereactionallergyorintolerancetothespecifiedsubstance/product.extension:substance.extension:extension","max":"0","path":"Extension.extension.extension","sliceName":"extension"},{"fixedUri":"substance","id":"Extension:exposureriskofadversereactionallergyorintolerancetothespecifiedsubstance/product.extension:substance.url","path":"Extension.extension.url","type":[{"code":"uri"}]},{"binding":{"description":"Codes defining the type of the substance (including pharmaceutical products).","strength":"example","valueSetReference":{"reference":"http://hl7.org/fhir/ValueSet/substance-code"}},"id":"Extension:exposureriskofadversereactionallergyorintolerancetothespecifiedsubstance/product.extension:substance.value[x]","min":1,"path":"Extension.extension.value[x]","type":[{"code":"CodeableConcept"}]},{"definition":"The presence or absence of a known exposure risk of the patient for an adverse reaction (allergy or intolerance) to the specified substance/product.","id":"Extension:exposureriskofadversereactionallergyorintolerancetothespecifiedsubstance/product.extension:exposurerisk","max":"1","min":1,"path":"Extension.extension","short":"known-reaction-risk | no-known-reaction-risk","sliceName":"exposureRisk","type":[{"code":"Extension"}]},{"id":"Extension:exposureriskofadversereactionallergyorintolerancetothespecifiedsubstance/product.extension:exposurerisk.extension:extension","max":"0","path":"Extension.extension.extension","sliceName":"extension"},{"fixedUri":"exposureRisk","id":"Extension:exposureriskofadversereactionallergyorintolerancetothespecifiedsubstance/product.extension:exposurerisk.url","path":"Extension.extension.url","type":[{"code":"uri"}]},{"binding":{"description":"The risk of an adverse reaction (allergy or intolerance) for this patient upon xposure to the substance (including pharmaceutical products).","strength":"required","valueSetReference":{"reference":"http://hl7.org/fhir/ValueSet/allerg-intol-substance-exp-risk"}},"id":"Extension:exposureriskofadversereactionallergyorintolerancetothespecifiedsubstance/product.extension:exposurerisk.value[x]","min":1,"path":"Extension.extension.value[x]","type":[{"code":"CodeableConcept"}]},{"fixedUri":"http://hl7.org/fhir/StructureDefinition/allergyintolerance-substanceExposureRisk","id":"Extension:exposureriskofadversereactionallergyorintolerancetothespecifiedsubstance/product.url","path":"Extension.url","type":[{"code":"uri"}]},{"id":"Extension:exposureriskofadversereactionallergyorintolerancetothespecifiedsubstance/product.value[x]","max":"0","min":0,"path":"Extension.value[x]"}]},"fhirVersion":"1.7.0","id":"allergyintolerance-substanceExposureRisk","kind":"complex-type","mapping":[{"identity":"v2","name":"HL7 v2 Mapping","uri":"http://hl7.org/v2"},{"identity":"rim","name":"RIM Mapping","uri":"http://hl7.org/v3"}],"name":"Exposure risk of adverse reaction (allergy or intolerance) to the specified substance/product","publisher":"Health Level Seven, Inc. - FHIR WG","resourceType":"StructureDefinition","snapshot":{"element":[{"base":{"max":"*","min":0,"path":"Extension"},"comments":"This extension is available and is intended to be used as a more completely structured and flexible alternative to the 'code' element for representing positive and negative allergy and intolerance statements.  If this extension element is present, the AllergyIntolerance.code element SHALL be omitted (see invariant \"code or substanceExposureRisk\").","condition":["ele-1"],"constraint":[{"expression":"children().count() > id.count()","human":"All FHIR elements must have a @value or children","key":"ele-1","severity":"error","source":"Element","xpath":"@value|f:*|h:div"},{"expression":"extension.exists() != value.exists()","human":"Must have either extensions or value[x], not both","key":"ext-1","severity":"error","source":"Extension","xpath":"exists(f:extension)!=exists(f:*[starts-with(local-name(.), 'value')])"},{"expression":"substanceExposureRisk.exists() and code.empty()","human":"If the substanceExposureRisk extension element is present, the AllergyIntolerance.code element must be omitted.","key":"inv-1","severity":"error","xpath":"exists(f:substanceExposureRisk) and not(exists(f:code))"}],"definition":"A complex extension allowing structured capture of the exposure risk of the patient for an adverse reaction (allergy or intolerance) to the specified substance/product.","id":"Extension:exposureriskofadversereactionallergyorintolerancetothespecifiedsubstance/product","max":"1","min":0,"path":"Extension","short":"Exposure risk of adverse reaction (allergy or intolerance) to the specified substance/product"},{"base":{"max":"1","min":0,"path":"Element.id"},"definition":"unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.","id":"Extension:exposureriskofadversereactionallergyorintolerancetothespecifiedsubstance/product.id","mapping":[{"identity":"rim","map":"n/a"}],"max":"1","min":0,"path":"Extension.id","representation":["xmlAttr"],"short":"xml:id (or equivalent in JSON)","type":[{"code":"string"}]},{"base":{"max":"*","min":0,"path":"Element.extension"},"definition":"An Extension","id":"Extension:exposureriskofadversereactionallergyorintolerancetothespecifiedsubstance/product.extension","max":"*","min":0,"path":"Extension.extension","short":"Extension","slicing":{"discriminator":["url"],"id":"83","ordered":false,"rules":"open"},"type":[{"code":"Extension"}]},{"base":{"max":"*","min":0,"path":"Element.extension"},"comments":"It is strongly recommended that this element be populated using a terminology, where possible. For example, some terminologies used include RxNorm, SNOMED CT, DM+D, NDFRT, UNII, and ATC. Plain text should only be used if there is no appropriate terminology available. Additional details can be specified in the text.","definition":"Code for a substance or pharmaceutical product that is considered to be responsible for the adverse reaction risk or is known not to have an associated risk of an adverse reaction upon exposure.","id":"Extension:exposureriskofadversereactionallergyorintolerancetothespecifiedsubstance/product.extension:substance","mapping":[{"identity":"v2","map":"AL1-3 / IAM-3"},{"identity":"rim","map":".participation[typeCode=CAGNT].role[classCode=ADMM].player[classCode=MAT, determinerCode=KIND, code <= ExposureAgentEntityType]"}],"max":"1","min":1,"path":"Extension.extension","short":"Substance (or pharmaceutical product)","sliceName":"substance","type":[{"code":"Extension"}]},{"base":{"max":"1","min":0,"path":"Element.id"},"definition":"unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.","id":"Extension:exposureriskofadversereactionallergyorintolerancetothespecifiedsubstance/product.extension:substance.id","mapping":[{"identity":"rim","map":"n/a"}],"max":"1","min":0,"path":"Extension.extension.id","representation":["xmlAttr"],"short":"xml:id (or equivalent in JSON)","type":[{"code":"string"}]},{"base":{"max":"*","min":0,"path":"Element.extension"},"definition":"An Extension","id":"Extension:exposureriskofadversereactionallergyorintolerancetothespecifiedsubstance/product.extension:substance.extension:extension","max":"0","min":0,"path":"Extension.extension.extension","short":"Extension","sliceName":"extension","type":[{"code":"Extension"}]},{"base":{"max":"1","min":1,"path":"Extension.url"},"comments":"The definition may point directly to a computable or human-readable definition of the extensibility codes, or it may be a logical URI as declared in some other specification. The definition SHALL be a URI for the Structure Definition defining the extension.","definition":"Source of the definition for the extension code - a logical name or a URL.","fixedUri":"substance","id":"Extension:exposureriskofadversereactionallergyorintolerancetothespecifiedsubstance/product.extension:substance.url","mapping":[{"identity":"rim","map":"N/A"}],"max":"1","min":1,"path":"Extension.extension.url","representation":["xmlAttr"],"short":"identifies the meaning of the extension","type":[{"code":"uri"}]},{"base":{"max":"1","min":0,"path":"Extension.value[x]"},"binding":{"description":"Codes defining the type of the substance (including pharmaceutical products).","strength":"example","valueSetReference":{"reference":"http://hl7.org/fhir/ValueSet/substance-code"}},"definition":"Value of extension - may be a resource or one of a constrained set of the data types (see Extensibility in the spec for list).","id":"Extension:exposureriskofadversereactionallergyorintolerancetothespecifiedsubstance/product.extension:substance.valueCodeableConcept","mapping":[{"identity":"rim","map":"N/A"}],"max":"1","min":1,"path":"Extension.extension.valueCodeableConcept","short":"Value of extension","type":[{"code":"CodeableConcept"}]},{"base":{"max":"*","min":0,"path":"Element.extension"},"definition":"The presence or absence of a known exposure risk of the patient for an adverse reaction (allergy or intolerance) to the specified substance/product.","id":"Extension:exposureriskofadversereactionallergyorintolerancetothespecifiedsubstance/product.extension:exposurerisk","max":"1","min":1,"path":"Extension.extension","short":"known-reaction-risk | no-known-reaction-risk","sliceName":"exposureRisk","type":[{"code":"Extension"}]},{"base":{"max":"1","min":0,"path":"Element.id"},"definition":"unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.","id":"Extension:exposureriskofadversereactionallergyorintolerancetothespecifiedsubstance/product.extension:exposurerisk.id","mapping":[{"identity":"rim","map":"n/a"}],"max":"1","min":0,"path":"Extension.extension.id","representation":["xmlAttr"],"short":"xml:id (or equivalent in JSON)","type":[{"code":"string"}]},{"base":{"max":"*","min":0,"path":"Element.extension"},"definition":"An Extension","id":"Extension:exposureriskofadversereactionallergyorintolerancetothespecifiedsubstance/product.extension:exposurerisk.extension:extension","max":"0","min":0,"path":"Extension.extension.extension","short":"Extension","sliceName":"extension","type":[{"code":"Extension"}]},{"base":{"max":"1","min":1,"path":"Extension.url"},"comments":"The definition may point directly to a computable or human-readable definition of the extensibility codes, or it may be a logical URI as declared in some other specification. The definition SHALL be a URI for the Structure Definition defining the extension.","definition":"Source of the definition for the extension code - a logical name or a URL.","fixedUri":"exposureRisk","id":"Extension:exposureriskofadversereactionallergyorintolerancetothespecifiedsubstance/product.extension:exposurerisk.url","mapping":[{"identity":"rim","map":"N/A"}],"max":"1","min":1,"path":"Extension.extension.url","representation":["xmlAttr"],"short":"identifies the meaning of the extension","type":[{"code":"uri"}]},{"base":{"max":"1","min":0,"path":"Extension.value[x]"},"binding":{"description":"The risk of an adverse reaction (allergy or intolerance) for this patient upon xposure to the substance (including pharmaceutical products).","strength":"required","valueSetReference":{"reference":"http://hl7.org/fhir/ValueSet/allerg-intol-substance-exp-risk"}},"definition":"Value of extension - may be a resource or one of a constrained set of the data types (see Extensibility in the spec for list).","id":"Extension:exposureriskofadversereactionallergyorintolerancetothespecifiedsubstance/product.extension:exposurerisk.valueCodeableConcept","mapping":[{"identity":"rim","map":"N/A"}],"max":"1","min":1,"path":"Extension.extension.valueCodeableConcept","short":"Value of extension","type":[{"code":"CodeableConcept"}]},{"base":{"max":"1","min":1,"path":"Extension.url"},"comments":"The definition may point directly to a computable or human-readable definition of the extensibility codes, or it may be a logical URI as declared in some other specification. The definition SHALL be a URI for the Structure Definition defining the extension.","definition":"Source of the definition for the extension code - a logical name or a URL.","fixedUri":"http://hl7.org/fhir/StructureDefinition/allergyintolerance-substanceExposureRisk","id":"Extension:exposureriskofadversereactionallergyorintolerancetothespecifiedsubstance/product.url","mapping":[{"identity":"rim","map":"N/A"}],"max":"1","min":1,"path":"Extension.url","representation":["xmlAttr"],"short":"identifies the meaning of the extension","type":[{"code":"uri"}]},{"base":{"max":"1","min":0,"path":"Extension.value[x]"},"definition":"Value of extension - may be a resource or one of a constrained set of the data types (see Extensibility in the spec for list).","id":"Extension:exposureriskofadversereactionallergyorintolerancetothespecifiedsubstance/product.value[x]","mapping":[{"identity":"rim","map":"N/A"}],"max":"0","min":0,"path":"Extension.value[x]","short":"Value of extension","type":[{"code":"base64Binary"},{"code":"boolean"},{"code":"code"},{"code":"date"},{"code":"dateTime"},{"code":"decimal"},{"code":"id"},{"code":"instant"},{"code":"integer"},{"code":"markdown"},{"code":"oid"},{"code":"positiveInt"},{"code":"string"},{"code":"time"},{"code":"unsignedInt"},{"code":"uri"},{"code":"Address"},{"code":"Age"},{"code":"Annotation"},{"code":"Attachment"},{"code":"CodeableConcept"},{"code":"Coding"},{"code":"ContactPoint"},{"code":"Count"},{"code":"Distance"},{"code":"Duration"},{"code":"HumanName"},{"code":"Identifier"},{"code":"Money"},{"code":"Period"},{"code":"Quantity"},{"code":"Range"},{"code":"Ratio"},{"code":"Reference"},{"code":"SampledData"},{"code":"Signature"},{"code":"Timing"},{"code":"Meta"}]}]},"status":"draft","title":"substanceExposureRisk","type":"Extension","url":"http://hl7.org/fhir/StructureDefinition/allergyintolerance-substanceExposureRisk"}